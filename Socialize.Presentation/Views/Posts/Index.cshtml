@using Microsoft.AspNetCore.Identity
@using Socialize.Infrastructure.Identity.Models

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_AuthenticatedLayout.cshtml";
}
<section class="flex gap-x-3">
    <div class="max-w-md w-full bg-white p-8 rounded-lg shadow-md">
        <form id="postForm">
            <!-- Post Content Section -->
            <div class="mb-6">
                <label for="postContent" class="block text-gray-700 text-sm font-bold mb-2">Post Content:</label>
                <textarea id="postContent" name="postContent" rows="4" class="w-full border-2 rounded-md px-4 py-2 leading-5 transition duration-150 ease-in-out sm:text-sm sm:leading-5 resize-none focus:outline-none focus:border-blue-500" placeholder="What's on your mind?"></textarea>
            </div>
            <!-- Option Select Section -->
            <div class="mb-6">
                <label for="postType" class="block text-gray-700 text-sm font-bold mb-2">Select Post Type:</label>
                <select id="postType" name="postType" class="w-full border-2 rounded-md px-4 py-2 leading-5 transition duration-150 ease-in-out sm:text-sm sm:leading-5 focus:outline-none focus:border-blue-500">
                    <option value="none">Text Only</option>
                    <option value="image">Attach Image</option>
                    <option value="video">Attach Video</option>
                </select>
            </div>
            <!-- Dynamic Components Section -->
            <div id="imageComponent" class="hidden mb-6">
                <label for="fileAttachment" class="block text-gray-700 text-sm font-bold mb-2">Attach Image:</label>
                <div class="relative border-2 rounded-md px-4 py-3 bg-white flex items-center justify-between hover:border-blue-500 transition duration-150 ease-in-out">
                    <input type="file" id="fileAttachment" name="fileAttachment" accept="image/*" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer">
                    <div class="flex items-center">
                        <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                        </svg>
                        <span class="ml-2 text-sm text-gray-600">Choose a file</span>
                    </div>
                    <span class="text-sm text-gray-500">Max file size: 5MB</span>
                </div>
                <img id="imagePreview" class="mt-4 w-full hidden rounded-md" />
            </div>
            <div id="videoComponent" class="hidden mb-6">
                <label for="videoUrl" class="block text-gray-700 text-sm font-bold mb-2">YouTube Video URL:</label>
                <input type="url" id="videoUrl" name="videoUrl" class="w-full border-2 rounded-md px-4 py-2 leading-5 transition duration-150 ease-in-out sm:text-sm sm:leading-5 focus:outline-none focus:border-blue-500" placeholder="Enter YouTube URL">
            </div>
            <!-- Submit Button and Character Limit Section -->
            <div class="flex items-center justify-between">
                <button type="submit" class="flex justify-center items-center bg-red-500 hover:bg-red-600 focus:outline-none focus:shadow-outline-blue text-white py-2 px-4 rounded-md transition duration-300 gap-2">
                    Post <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24" id="send" fill="#fff">
                        <path fill="none" d="M0 0h24v24H0V0z"></path>
                        <path d="M3.4 20.4l17.45-7.48c.81-.35.81-1.49 0-1.84L3.4 3.6c-.66-.29-1.39.2-1.39.91L2 9.12c0 .5.37.93.87.99L17 12 2.87 13.88c-.5.07-.87.5-.87 1l.01 4.61c0 .71.73 1.2 1.39.91z"></path>
                    </svg>
                </button>
                <span class="text-gray-500 text-sm">Max 280 characters</span>
            </div>
        </form>
    </div>
    <div class="flex-grow overflow-y-auto">
        <section class="bg-gray-100 h-screen flex flex-col gap-8 items-center justify-center overflow-y-auto">
                <article class="bg-white border rounded max-w-md">
                    <div class="flex items-center px-4 py-3 gap-x-1">
                        <img class="h-8 w-8 rounded-full" src="https://picsum.photos/id/1027/150/150" />
                        <div class="ml-3">
                            <span class="text-sm font-semibold antialiased block leading-tight">8fact</span>
                        </div>
                    </div>
                    <img src="https://picsum.photos/id/244/900/900" alt="Post picture"/>
                    <div class="p-2">
                        At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident,
                        similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore,
                        cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus.
                        Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates repudiandae sint et molestiae non recusandae.
                    </div>
                    <div class="flex items-center justify-between mx-4 mt-3 mb-2 p-2">
                        <a class="flex items-center justify-center text-red-500">
                            <i class="fa-solid fa-comment fa-lg"></i>
                        </a>
                        <span class="text-red-500 font-semibold">22 Comments</span>
                    </div>
                </article>
                <article class="bg-white border rounded max-w-md">
                    <div class="flex items-center px-4 py-3 gap-x-1">
                        <img class="h-8 w-8 rounded-full" src="https://picsum.photos/id/1027/150/150" />
                        <div class="ml-3">
                            <span class="text-sm font-semibold antialiased block leading-tight">8fact</span>
                        </div>
                    </div>
                    <div class="relative w-full pb-56.25 mb-5">
                        <iframe
                            height="200"
                            class="relative w-full"
                                src="https://www.youtube.com/embed/7e90gBu4pas"
                                frameborder="0"
                                allowfullscreen></iframe>
                    </div>

                    <div class="p-2">
                        At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident,
                        similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore,
                        cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus.
                        Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates repudiandae sint et molestiae non recusandae.
                    </div>
                    <div class="flex items-center justify-between mx-4 mt-3 mb-2 p-2">
                        <a class="flex items-center justify-center text-red-500">
                            <i class="fa-solid fa-comment fa-lg"></i>
                        </a>
                        <span class="text-red-500 font-semibold">22 Comments</span>
                    </div>
                </article>
                <article class="bg-white border rounded max-w-md">
                    <div class="flex items-center px-4 py-3 gap-x-1">
                        <img class="h-8 w-8 rounded-full" src="https://picsum.photos/id/1027/150/150" />
                        <div class="ml-3">
                            <span class="text-sm font-semibold antialiased block leading-tight">8fact</span>
                        </div>
                    </div>
                    <div class="p-2">
                        At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident,
                        similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore,
                        cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus.
                        Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates repudiandae sint et molestiae non recusandae.
                    </div>
                    <div class="flex items-center justify-between mx-4 mt-3 mb-2 p-2">
                        <a class="flex items-center justify-center text-red-500">
                            <i class="fa-solid fa-comment fa-lg"></i>
                        </a>
                        <span class="text-red-500 font-semibold">22 Comments</span>
                    </div>
                </article>
            </section>
        </div>
</section>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const postTypeSelect = document.getElementById('postType');
        const imageComponent = document.getElementById('imageComponent');
        const videoComponent = document.getElementById('videoComponent');
        const imagePreview = document.getElementById('imagePreview');
        const fileInput = document.getElementById('fileAttachment');

        postTypeSelect.addEventListener('change', function () {
            const selectedType = postTypeSelect.value;

            imageComponent.classList.add('hidden');
            videoComponent.classList.add('hidden');

            if (selectedType === 'image') {
                imageComponent.classList.remove('hidden');
            } else if (selectedType === 'video') {
                videoComponent.classList.remove('hidden');
            }
        });

        fileInput.addEventListener('change', function () {
            const file = fileInput.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    imagePreview.src = e.target.result;
                    imagePreview.classList.remove('hidden');
                }
                reader.readAsDataURL(file);
            } else {
                imagePreview.classList.add('hidden');
            }
        });
    });
</script>

